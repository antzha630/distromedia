(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[375],{416:(e,t,s)=>{"use strict";s.r(t);s.d(t,{"default":()=>i});var a=s(7876);var r=s(4232);function n(){const[e,t]=(0,r.useState)("");const[s,n]=(0,r.useState)("");const[i,o]=(0,r.useState)(null);const[l,c]=(0,r.useState)("");const[d,m]=(0,r.useState)(null);const[u,h]=(0,r.useState)("");const[p,g]=(0,r.useState)(null);const[y,f]=(0,r.useState)(false);const[x,j]=(0,r.useState)(null);const[S,k]=(0,r.useState)(false);(0,r.useEffect)(()=>{const e=sessionStorage.getItem("blueskySession");const t=sessionStorage.getItem("blueskyHandle");const s=sessionStorage.getItem("linkedinSession");const a=sessionStorage.getItem("telegramSession");if(e){o(JSON.parse(e))}if(t){c(t)}if(s){m(JSON.parse(s))}if(a)j(JSON.parse(a))},[]);const b=async()=>{if(!u)return;f(true);try{const e=await fetch(`/api/fetchMetadata?url=${encodeURIComponent(u)}`);const s=await e.json();if(s.error){alert("❌ Failed to fetch article metadata: "+s.error);return}g(s);sessionStorage.setItem("articleUrl",u);sessionStorage.setItem("articleMetadata",JSON.stringify(s));if(s.articleText&&s.articleText.length>0){t(s.articleText)}else{t(`${s.title}

${s.description||""}`)}}catch(e){alert("❌ Error fetching article metadata");console.error("Error:",e)}finally{f(false)}};const w=async()=>{if(!e){alert("Please enter some text to summarize");return}k(true);try{const t=await fetch("/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:`Write a professional, engaging LinkedIn post summarizing this article for a business audience. Use a formal tone and highlight key insights.

${e}`})});const s=await t.json();const a=await fetch("/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:`Write a casual, concise, and engaging post for Bluesky (like a tweet). Use a friendly, informal tone and keep it short.

${e}`})});const r=await a.json();const n=await fetch("/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:`Write a friendly, direct, and concise message for Telegram summarizing this article. Use a conversational tone and keep it under 200 characters.

${e}`})});const i=await n.json();if(s.summary){sessionStorage.setItem("linkedinSummary",s.summary)}if(r.summary){sessionStorage.setItem("blueskySummary",r.summary)}if(i.summary){sessionStorage.setItem("telegramMessage",i.summary)}if(!s.summary&&!r.summary&&!i.summary){alert("❌ No summary was generated. Please try again.")}else{alert("✅ Summaries generated! Go to the Post page to review and post.")}}catch(e){console.error("Summarize error:",e);alert("❌ Failed to generate summary. Please try again.")}finally{k(false)}};const I=async()=>{if(!i){alert("Please log in to Bluesky first via the homepage.");return}if(s.length>280){alert("❌ Summary is too long. Please edit it to be under 280 characters.");return}const e=s;const a=await fetch("/api/bluesky/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,accessJwt:i.accessJwt,did:i.did,embed:p?{$type:"app.bsky.embed.external",external:{uri:u,title:p.title,description:p.description,thumb:p.image}}:undefined})});const r=await a.json();if(r.success){alert("✅ Posted to Bluesky!");t("");n("");h("");g(null)}else{alert("❌ Bluesky post failed: "+(r.error||"Unknown error"))}};const T=async()=>{if(!d){alert("Please log in to LinkedIn first via the homepage.");return}try{const e=await fetch("/api/linkedin/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,url:u,accessToken:d.accessToken,userId:d.userId})});const t=await e.json();if(t.success){alert("✅ Posted to LinkedIn!")}else{alert("❌ LinkedIn post failed: "+(t.error||"Unknown error"))}}catch(e){console.error("LinkedIn post error:",e);alert("❌ Failed to post to LinkedIn")}};return(0,a.jsxs)("main",{className:"container",children:[(0,a.jsx)("h1",{children:"\uD83E\uDDE0 AI Content Generator"}),(0,a.jsxs)("p",{style:{textAlign:"left",marginTop:"10px",marginBottom:"30px"},children:["This is where you can create social media content from your articles and publish them, all without leaving DistroMedia!",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Currently, you are signed in as:",(0,a.jsx)("br",{}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:`https://www.linkedin.com/search/results/all/?keywords=${encodeURIComponent(d.name)}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#0A66C2"},children:d.name})," on LinkedIn",(0,a.jsx)("br",{})]}),i&&l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:`https://bsky.app/profile/${l.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#3f51b5"},children:l.startsWith("@")?l:`@${l}`})," on BlueSky",(0,a.jsx)("br",{})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{style:{color:"#229ED9",fontWeight:600},children:[x.first_name||""," ",x.last_name||"",x.username?` (@${x.username})`:""]})," on Telegram",(0,a.jsx)("br",{})]})]}),(0,a.jsxs)("section",{className:"card",children:[(0,a.jsx)("label",{htmlFor:"urlInput",children:"Article URL:"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[(0,a.jsx)("input",{id:"urlInput",type:"url",placeholder:"Paste article URL here...",value:u,onChange:e=>h(e.target.value),style:{flex:1,marginBottom:0}}),(0,a.jsx)("button",{onClick:b,disabled:y,style:{marginTop:0},children:y?"Loading...":"Fetch Article"})]}),p&&(0,a.jsxs)("div",{style:{backgroundColor:"#222",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[(0,a.jsx)("h4",{style:{margin:"0 0 10px 0"},children:"Article Preview"}),p.image&&(0,a.jsx)("img",{src:p.image,alt:p.title,style:{maxWidth:"100%",height:"auto",borderRadius:"4px",marginBottom:"10px"}}),(0,a.jsx)("h3",{style:{margin:"0 0 5px 0"},children:p.title}),(0,a.jsx)("p",{style:{margin:"0",color:"#aaa"},children:p.description})]}),(0,a.jsx)("label",{htmlFor:"articleInput",children:"Or paste your article text:"}),(0,a.jsx)("textarea",{id:"articleInput",rows:"6",placeholder:"Paste text here...",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{onClick:w,disabled:S,children:S?"Summarizing...":"Summarize"})]}),(0,a.jsx)("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:"40px"},children:(0,a.jsx)("a",{href:"/post",children:(0,a.jsx)("button",{style:{minWidth:200},children:"Go to Post Page"})})}),(!i||!d)&&(0,a.jsxs)("section",{className:"card",children:[!i&&(0,a.jsxs)("p",{children:["To post to BlueSky, please ",(0,a.jsx)("a",{href:"/",children:"log in"})," on the homepage."]}),!d&&(0,a.jsxs)("p",{children:["To post to LinkedIn, please ",(0,a.jsx)("a",{href:"/",children:"log in"})," on the homepage."]})]})]})}const i=n},2818:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/scheduler",function(){return s(416)}]);if(false){}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2818));var s=e.O();_N_E=s}]);