"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/linkedin/callback";
exports.ids = ["pages/api/linkedin/callback"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flinkedin%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flinkedin%2Fcallback.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flinkedin%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flinkedin%2Fcallback.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_linkedin_callback_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/linkedin/callback.js */ \"(api-node)/./pages/api/linkedin/callback.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_linkedin_callback_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_linkedin_callback_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/linkedin/callback\",\n        pathname: \"/api/linkedin/callback\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_linkedin_callback_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGbGlua2VkaW4lMkZjYWxsYmFjayZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGbGlua2VkaW4lMkZjYWxsYmFjay5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUM2RDtBQUM3RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsNERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDREQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2xpbmtlZGluL2NhbGxiYWNrLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9saW5rZWRpbi9jYWxsYmFja1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2xpbmtlZGluL2NhbGxiYWNrXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flinkedin%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flinkedin%2Fcallback.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/linkedin/callback.js":
/*!****************************************!*\
  !*** ./pages/api/linkedin/callback.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    const { code, state, error } = req.query;\n    // Check for OAuth errors\n    if (error) {\n        console.error('LinkedIn OAuth error:', error);\n        return res.redirect(`/?error=${encodeURIComponent(error)}`);\n    }\n    // Verify state to prevent CSRF attacks\n    const savedState = req.cookies.linkedin_oauth_state;\n    if (!state || state !== savedState) {\n        console.error('Invalid OAuth state:', {\n            received: state,\n            saved: savedState\n        });\n        return res.redirect(`/?error=${encodeURIComponent('Invalid OAuth state')}`);\n    }\n    if (!code) {\n        return res.redirect(`/?error=${encodeURIComponent('No authorization code provided')}`);\n    }\n    try {\n        // Get the same redirect URI as used in auth\n        const redirectUri = `${req.headers['x-forwarded-proto'] || 'http'}://${req.headers.host}/api/linkedin/callback`;\n        // Exchange code for access token\n        const tokenResponse = await fetch('https://www.linkedin.com/oauth/v2/accessToken', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: new URLSearchParams({\n                grant_type: 'authorization_code',\n                code,\n                client_id: process.env.LINKEDIN_CLIENT_ID,\n                client_secret: process.env.LINKEDIN_CLIENT_SECRET,\n                redirect_uri: redirectUri\n            })\n        });\n        const tokenData = await tokenResponse.json();\n        if (!tokenResponse.ok) {\n            console.error('Token exchange failed:', tokenData);\n            throw new Error(tokenData.error_description || 'Failed to get access token');\n        }\n        // Get user profile using OpenID Connect userinfo endpoint\n        const profileResponse = await fetch('https://api.linkedin.com/v2/userinfo', {\n            headers: {\n                'Authorization': `Bearer ${tokenData.access_token}`\n            }\n        });\n        const profileData = await profileResponse.json();\n        if (!profileResponse.ok) {\n            console.error('Profile fetch failed:', profileData);\n            throw new Error('Failed to get user profile');\n        }\n        // Fetch profile image from LinkedIn v2/me endpoint\n        let profileImageUrl = '';\n        try {\n            const meResponse = await fetch('https://api.linkedin.com/v2/me?projection=(profilePicture(displayImage~:playableStreams))', {\n                headers: {\n                    'Authorization': `Bearer ${tokenData.access_token}`\n                }\n            });\n            const meData = await meResponse.json();\n            const elements = meData.profilePicture && meData.profilePicture['displayImage~'] && meData.profilePicture['displayImage~'].elements;\n            if (elements && elements.length > 0) {\n                // Get the largest available image\n                const largest = elements[elements.length - 1];\n                profileImageUrl = largest.identifiers[0].identifier;\n            }\n            console.log('LinkedIn /me response:', JSON.stringify(meData, null, 2));\n        } catch (e) {\n            profileImageUrl = '';\n        }\n        // Store the session data\n        const session = {\n            accessToken: tokenData.access_token,\n            expiresIn: tokenData.expires_in,\n            userId: profileData.sub,\n            name: profileData.name || `${profileData.given_name} ${profileData.family_name}`,\n            email: profileData.email,\n            profileImageUrl\n        };\n        console.log('Session being sent to frontend:', session);\n        // Clear the state cookie\n        res.setHeader('Set-Cookie', 'linkedin_oauth_state=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT');\n        // Redirect back to the app with the session data\n        res.redirect(`/?linkedin=${encodeURIComponent(JSON.stringify(session))}`);\n        console.log('LinkedIn session:', session);\n    } catch (error) {\n        console.error('LinkedIn callback error:', error);\n        res.redirect(`/?error=${encodeURIComponent(error.message || 'Authentication failed')}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9saW5rZWRpbi9jYWxsYmFjay5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWUsZUFBZUEsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRSxHQUFHSixJQUFJSyxLQUFLO0lBRXhDLHlCQUF5QjtJQUN6QixJQUFJRCxPQUFPO1FBQ1RFLFFBQVFGLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9ILElBQUlNLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRUMsbUJBQW1CSixRQUFRO0lBQzVEO0lBRUEsdUNBQXVDO0lBQ3ZDLE1BQU1LLGFBQWFULElBQUlVLE9BQU8sQ0FBQ0Msb0JBQW9CO0lBQ25ELElBQUksQ0FBQ1IsU0FBU0EsVUFBVU0sWUFBWTtRQUNsQ0gsUUFBUUYsS0FBSyxDQUFDLHdCQUF3QjtZQUFFUSxVQUFVVDtZQUFPVSxPQUFPSjtRQUFXO1FBQzNFLE9BQU9SLElBQUlNLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRUMsbUJBQW1CLHdCQUF3QjtJQUM1RTtJQUVBLElBQUksQ0FBQ04sTUFBTTtRQUNULE9BQU9ELElBQUlNLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRUMsbUJBQW1CLG1DQUFtQztJQUN2RjtJQUVBLElBQUk7UUFDRiw0Q0FBNEM7UUFDNUMsTUFBTU0sY0FBYyxHQUFHZCxJQUFJZSxPQUFPLENBQUMsb0JBQW9CLElBQUksT0FBTyxHQUFHLEVBQUVmLElBQUllLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQixDQUFDO1FBRS9HLGlDQUFpQztRQUNqQyxNQUFNQyxnQkFBZ0IsTUFBTUMsTUFBTSxpREFBaUQ7WUFDakZDLFFBQVE7WUFDUkosU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQUssTUFBTSxJQUFJQyxnQkFBZ0I7Z0JBQ3hCQyxZQUFZO2dCQUNacEI7Z0JBQ0FxQixXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtnQkFDekNDLGVBQWVILFFBQVFDLEdBQUcsQ0FBQ0csc0JBQXNCO2dCQUNqREMsY0FBY2Y7WUFDaEI7UUFDRjtRQUVBLE1BQU1nQixZQUFZLE1BQU1iLGNBQWNjLElBQUk7UUFFMUMsSUFBSSxDQUFDZCxjQUFjZSxFQUFFLEVBQUU7WUFDckIxQixRQUFRRixLQUFLLENBQUMsMEJBQTBCMEI7WUFDeEMsTUFBTSxJQUFJRyxNQUFNSCxVQUFVSSxpQkFBaUIsSUFBSTtRQUNqRDtRQUVBLDBEQUEwRDtRQUMxRCxNQUFNQyxrQkFBa0IsTUFBTWpCLE1BQU0sd0NBQXdDO1lBQzFFSCxTQUFTO2dCQUNQLGlCQUFpQixDQUFDLE9BQU8sRUFBRWUsVUFBVU0sWUFBWSxFQUFFO1lBQ3JEO1FBQ0Y7UUFFQSxNQUFNQyxjQUFjLE1BQU1GLGdCQUFnQkosSUFBSTtRQUU5QyxJQUFJLENBQUNJLGdCQUFnQkgsRUFBRSxFQUFFO1lBQ3ZCMUIsUUFBUUYsS0FBSyxDQUFDLHlCQUF5QmlDO1lBQ3ZDLE1BQU0sSUFBSUosTUFBTTtRQUNsQjtRQUVBLG1EQUFtRDtRQUNuRCxJQUFJSyxrQkFBa0I7UUFDdEIsSUFBSTtZQUNGLE1BQU1DLGFBQWEsTUFBTXJCLE1BQU0sNkZBQTZGO2dCQUMxSEgsU0FBUztvQkFDUCxpQkFBaUIsQ0FBQyxPQUFPLEVBQUVlLFVBQVVNLFlBQVksRUFBRTtnQkFDckQ7WUFDRjtZQUNBLE1BQU1JLFNBQVMsTUFBTUQsV0FBV1IsSUFBSTtZQUNwQyxNQUFNVSxXQUFXRCxPQUFPRSxjQUFjLElBQUlGLE9BQU9FLGNBQWMsQ0FBQyxnQkFBZ0IsSUFBSUYsT0FBT0UsY0FBYyxDQUFDLGdCQUFnQixDQUFDRCxRQUFRO1lBQ25JLElBQUlBLFlBQVlBLFNBQVNFLE1BQU0sR0FBRyxHQUFHO2dCQUNuQyxrQ0FBa0M7Z0JBQ2xDLE1BQU1DLFVBQVVILFFBQVEsQ0FBQ0EsU0FBU0UsTUFBTSxHQUFHLEVBQUU7Z0JBQzdDTCxrQkFBa0JNLFFBQVFDLFdBQVcsQ0FBQyxFQUFFLENBQUNDLFVBQVU7WUFDckQ7WUFDQXhDLFFBQVF5QyxHQUFHLENBQUMsMEJBQTBCQyxLQUFLQyxTQUFTLENBQUNULFFBQVEsTUFBTTtRQUNyRSxFQUFFLE9BQU9VLEdBQUc7WUFDVlosa0JBQWtCO1FBQ3BCO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU1hLFVBQVU7WUFDZEMsYUFBYXRCLFVBQVVNLFlBQVk7WUFDbkNpQixXQUFXdkIsVUFBVXdCLFVBQVU7WUFDL0JDLFFBQVFsQixZQUFZbUIsR0FBRztZQUN2QkMsTUFBTXBCLFlBQVlvQixJQUFJLElBQUksR0FBR3BCLFlBQVlxQixVQUFVLENBQUMsQ0FBQyxFQUFFckIsWUFBWXNCLFdBQVcsRUFBRTtZQUNoRkMsT0FBT3ZCLFlBQVl1QixLQUFLO1lBQ3hCdEI7UUFDRjtRQUVBaEMsUUFBUXlDLEdBQUcsQ0FBQyxtQ0FBbUNJO1FBRS9DLHlCQUF5QjtRQUN6QmxELElBQUk0RCxTQUFTLENBQUMsY0FBYztRQUU1QixpREFBaUQ7UUFDakQ1RCxJQUFJTSxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUVDLG1CQUFtQndDLEtBQUtDLFNBQVMsQ0FBQ0UsV0FBVztRQUV4RTdDLFFBQVF5QyxHQUFHLENBQUMscUJBQXFCSTtJQUNuQyxFQUFFLE9BQU8vQyxPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDSCxJQUFJTSxRQUFRLENBQUMsQ0FBQyxRQUFRLEVBQUVDLG1CQUFtQkosTUFBTTBELE9BQU8sSUFBSSwwQkFBMEI7SUFDeEY7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FudGhvbnl6L0Rlc2t0b3AvZGlzdHJvbWVkaWEvcGFnZXMvYXBpL2xpbmtlZGluL2NhbGxiYWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgY29uc3QgeyBjb2RlLCBzdGF0ZSwgZXJyb3IgfSA9IHJlcS5xdWVyeTtcblxuICAvLyBDaGVjayBmb3IgT0F1dGggZXJyb3JzXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xpbmtlZEluIE9BdXRoIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAvP2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVycm9yKX1gKTtcbiAgfVxuXG4gIC8vIFZlcmlmeSBzdGF0ZSB0byBwcmV2ZW50IENTUkYgYXR0YWNrc1xuICBjb25zdCBzYXZlZFN0YXRlID0gcmVxLmNvb2tpZXMubGlua2VkaW5fb2F1dGhfc3RhdGU7XG4gIGlmICghc3RhdGUgfHwgc3RhdGUgIT09IHNhdmVkU3RhdGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIE9BdXRoIHN0YXRlOicsIHsgcmVjZWl2ZWQ6IHN0YXRlLCBzYXZlZDogc2F2ZWRTdGF0ZSB9KTtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAvP2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCdJbnZhbGlkIE9BdXRoIHN0YXRlJyl9YCk7XG4gIH1cblxuICBpZiAoIWNvZGUpIHtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAvP2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCdObyBhdXRob3JpemF0aW9uIGNvZGUgcHJvdmlkZWQnKX1gKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBzYW1lIHJlZGlyZWN0IFVSSSBhcyB1c2VkIGluIGF1dGhcbiAgICBjb25zdCByZWRpcmVjdFVyaSA9IGAke3JlcS5oZWFkZXJzWyd4LWZvcndhcmRlZC1wcm90byddIHx8ICdodHRwJ306Ly8ke3JlcS5oZWFkZXJzLmhvc3R9L2FwaS9saW5rZWRpbi9jYWxsYmFja2A7XG5cbiAgICAvLyBFeGNoYW5nZSBjb2RlIGZvciBhY2Nlc3MgdG9rZW5cbiAgICBjb25zdCB0b2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9vYXV0aC92Mi9hY2Nlc3NUb2tlbicsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICB9LFxuICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIGdyYW50X3R5cGU6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgICBjb2RlLFxuICAgICAgICBjbGllbnRfaWQ6IHByb2Nlc3MuZW52LkxJTktFRElOX0NMSUVOVF9JRCxcbiAgICAgICAgY2xpZW50X3NlY3JldDogcHJvY2Vzcy5lbnYuTElOS0VESU5fQ0xJRU5UX1NFQ1JFVCxcbiAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVyaSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW5EYXRhID0gYXdhaXQgdG9rZW5SZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoIXRva2VuUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIGV4Y2hhbmdlIGZhaWxlZDonLCB0b2tlbkRhdGEpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHRva2VuRGF0YS5lcnJvcl9kZXNjcmlwdGlvbiB8fCAnRmFpbGVkIHRvIGdldCBhY2Nlc3MgdG9rZW4nKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdXNlciBwcm9maWxlIHVzaW5nIE9wZW5JRCBDb25uZWN0IHVzZXJpbmZvIGVuZHBvaW50XG4gICAgY29uc3QgcHJvZmlsZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmxpbmtlZGluLmNvbS92Mi91c2VyaW5mbycsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW5EYXRhLmFjY2Vzc190b2tlbn1gLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gYXdhaXQgcHJvZmlsZVJlc3BvbnNlLmpzb24oKTtcblxuICAgIGlmICghcHJvZmlsZVJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9maWxlIGZldGNoIGZhaWxlZDonLCBwcm9maWxlRGF0YSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgdXNlciBwcm9maWxlJyk7XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggcHJvZmlsZSBpbWFnZSBmcm9tIExpbmtlZEluIHYyL21lIGVuZHBvaW50XG4gICAgbGV0IHByb2ZpbGVJbWFnZVVybCA9ICcnO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmxpbmtlZGluLmNvbS92Mi9tZT9wcm9qZWN0aW9uPShwcm9maWxlUGljdHVyZShkaXNwbGF5SW1hZ2V+OnBsYXlhYmxlU3RyZWFtcykpJywge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW5EYXRhLmFjY2Vzc190b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBtZURhdGEgPSBhd2FpdCBtZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gbWVEYXRhLnByb2ZpbGVQaWN0dXJlICYmIG1lRGF0YS5wcm9maWxlUGljdHVyZVsnZGlzcGxheUltYWdlfiddICYmIG1lRGF0YS5wcm9maWxlUGljdHVyZVsnZGlzcGxheUltYWdlfiddLmVsZW1lbnRzO1xuICAgICAgaWYgKGVsZW1lbnRzICYmIGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gR2V0IHRoZSBsYXJnZXN0IGF2YWlsYWJsZSBpbWFnZVxuICAgICAgICBjb25zdCBsYXJnZXN0ID0gZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHByb2ZpbGVJbWFnZVVybCA9IGxhcmdlc3QuaWRlbnRpZmllcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdMaW5rZWRJbiAvbWUgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkobWVEYXRhLCBudWxsLCAyKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcHJvZmlsZUltYWdlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgdGhlIHNlc3Npb24gZGF0YVxuICAgIGNvbnN0IHNlc3Npb24gPSB7XG4gICAgICBhY2Nlc3NUb2tlbjogdG9rZW5EYXRhLmFjY2Vzc190b2tlbixcbiAgICAgIGV4cGlyZXNJbjogdG9rZW5EYXRhLmV4cGlyZXNfaW4sXG4gICAgICB1c2VySWQ6IHByb2ZpbGVEYXRhLnN1YixcbiAgICAgIG5hbWU6IHByb2ZpbGVEYXRhLm5hbWUgfHwgYCR7cHJvZmlsZURhdGEuZ2l2ZW5fbmFtZX0gJHtwcm9maWxlRGF0YS5mYW1pbHlfbmFtZX1gLFxuICAgICAgZW1haWw6IHByb2ZpbGVEYXRhLmVtYWlsLFxuICAgICAgcHJvZmlsZUltYWdlVXJsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGJlaW5nIHNlbnQgdG8gZnJvbnRlbmQ6Jywgc2Vzc2lvbik7XG5cbiAgICAvLyBDbGVhciB0aGUgc3RhdGUgY29va2llXG4gICAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsICdsaW5rZWRpbl9vYXV0aF9zdGF0ZT07IFBhdGg9LzsgRXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCcpO1xuXG4gICAgLy8gUmVkaXJlY3QgYmFjayB0byB0aGUgYXBwIHdpdGggdGhlIHNlc3Npb24gZGF0YVxuICAgIHJlcy5yZWRpcmVjdChgLz9saW5rZWRpbj0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzZXNzaW9uKSl9YCk7XG5cbiAgICBjb25zb2xlLmxvZygnTGlua2VkSW4gc2Vzc2lvbjonLCBzZXNzaW9uKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMaW5rZWRJbiBjYWxsYmFjayBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnJlZGlyZWN0KGAvP2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVycm9yLm1lc3NhZ2UgfHwgJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpfWApO1xuICB9XG59ICJdLCJuYW1lcyI6WyJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29kZSIsInN0YXRlIiwiZXJyb3IiLCJxdWVyeSIsImNvbnNvbGUiLCJyZWRpcmVjdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInNhdmVkU3RhdGUiLCJjb29raWVzIiwibGlua2VkaW5fb2F1dGhfc3RhdGUiLCJyZWNlaXZlZCIsInNhdmVkIiwicmVkaXJlY3RVcmkiLCJoZWFkZXJzIiwiaG9zdCIsInRva2VuUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJVUkxTZWFyY2hQYXJhbXMiLCJncmFudF90eXBlIiwiY2xpZW50X2lkIiwicHJvY2VzcyIsImVudiIsIkxJTktFRElOX0NMSUVOVF9JRCIsImNsaWVudF9zZWNyZXQiLCJMSU5LRURJTl9DTElFTlRfU0VDUkVUIiwicmVkaXJlY3RfdXJpIiwidG9rZW5EYXRhIiwianNvbiIsIm9rIiwiRXJyb3IiLCJlcnJvcl9kZXNjcmlwdGlvbiIsInByb2ZpbGVSZXNwb25zZSIsImFjY2Vzc190b2tlbiIsInByb2ZpbGVEYXRhIiwicHJvZmlsZUltYWdlVXJsIiwibWVSZXNwb25zZSIsIm1lRGF0YSIsImVsZW1lbnRzIiwicHJvZmlsZVBpY3R1cmUiLCJsZW5ndGgiLCJsYXJnZXN0IiwiaWRlbnRpZmllcnMiLCJpZGVudGlmaWVyIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJzZXNzaW9uIiwiYWNjZXNzVG9rZW4iLCJleHBpcmVzSW4iLCJleHBpcmVzX2luIiwidXNlcklkIiwic3ViIiwibmFtZSIsImdpdmVuX25hbWUiLCJmYW1pbHlfbmFtZSIsImVtYWlsIiwic2V0SGVhZGVyIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/linkedin/callback.js\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flinkedin%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flinkedin%2Fcallback.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();