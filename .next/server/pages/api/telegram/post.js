"use strict";(()=>{var e={};e.id=127;e.ids=[127];e.modules={3480:(e,t,r)=>{if(false){}else{if(false){}else{if(false){}else{e.exports=r(5600)}}}},4229:e=>{e.exports=require("node-fetch")},5355:(e,t,r)=>{r.r(t);r.d(t,{config:()=>f,"default":()=>c,routeModule:()=>d});var s={};r.r(s);r.d(s,{"default":()=>u});var n=r(3480);var o=r(8667);var a=r(6435);var i=r(4229);async function u(e,t){if(e.method!=="POST"){return t.status(405).json({error:"Method not allowed"})}const{chat_id:r,text:s,link:n}=e.body;const o=process.env.TELEGRAM_BOT_TOKEN;if(!o){return t.status(500).json({success:false,error:"Bot token not configured"})}if(!r||!s){return t.status(400).json({success:false,error:"Missing chat_id or text"})}try{const e=n?`${s}

${n}`:s;const a=await i(`https://api.telegram.org/bot${o}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:r,text:e,parse_mode:"HTML",disable_web_page_preview:false})});const u=await a.json();if(u.ok){t.status(200).json({success:true})}else{t.status(500).json({success:false,error:u.description})}}catch(e){t.status(500).json({success:false,error:e.message})}};const c=(0,a.M)(s,"default");const f=(0,a.M)(s,"config");const d=new n.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/telegram/post",pathname:"/api/telegram/post",bundlePath:"",filename:""},userland:s})},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{var r;r={value:true};Object.defineProperty(t,"M",{enumerable:true,get:function(){return s}});function s(e,t){if(t in e){return e[t]}if("then"in e&&typeof e.then==="function"){return e.then(e=>s(e,t))}if(typeof e==="function"&&t==="default"){return e}return undefined}},8667:(e,t)=>{var r;r={value:true};Object.defineProperty(t,"A",{enumerable:true,get:function(){return s}});var s=function(e){e["PAGES"]="PAGES";e["PAGES_API"]="PAGES_API";e["APP_PAGE"]="APP_PAGE";e["APP_ROUTE"]="APP_ROUTE";e["IMAGE"]="IMAGE";return e}({})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e);var s=r(5355);module.exports=s})();