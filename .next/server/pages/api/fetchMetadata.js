"use strict";(()=>{var e={};e.id=130;e.ids=[130];e.modules={2196:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t);r.d(t,{"default":()=>o});var s=r(4229);var n=r(5263);var i=e([n]);n=(i.then?(await i)():i)[0];async function o(e,t){const{url:r}=e.query;if(!r){return t.status(400).json({error:"URL is required"})}try{const e=await s(r);if(!e.ok){return t.status(e.status).json({error:`Failed to fetch URL: ${e.statusText}`})}const a=await e.text();const i=n.load(a);const o=i('meta[property="og:title"]').attr("content")||i("title").text()||"No title available";const c=i('meta[property="og:description"]').attr("content")||i('meta[name="description"]').attr("content")||"No description available";const l=i('meta[property="og:image"]').attr("content")||i('meta[name="twitter:image"]').attr("content")||i('img[itemprop="image"]').attr("src")||null;const u=l?new URL(l,r).toString():null;let d="";let p=i("article");if(!p.length){p=i('[class*="article"], [class*="content"], [class*="main"]')}if(!p.length)p=i.root();p.find('nav, aside, footer, header, .share, .author, .newsletter, script, style, [class*="sidebar"], [class*="footer"], [class*="nav"], [class*="share"], [class*="author"], [class*="newsletter"], [class*="subscribe"], [class*="icon"], [id*="share"], [id*="nav"], [id*="footer"], [id*="sidebar"]').remove();p.find('script, style, [type="application/ld+json"], [style*="display:none"]').remove();let f="";p.find("p, h2, h3, ul, ol, li").each((e,t)=>{const r=i(t).text().trim();if(r&&!r.match(/Share this article|Copy link|Sign up|Subscribe|X icon|@context|schema.org|newsletter|privacy policy|terms of use|cookie|author bio|about us|contact us|advertise|system status|disclosure|policies|logo|editor's picks|shorts|sitemap|do not sell my info|masthead|careers|press releases|sponsored by|back to menu|see all newsletters|sign me up|copyright|all rights reserved|\{.*@context.*\}/i)){f+=r+"\n\n"}});if(!f.trim()){i("p").each((e,t)=>{const r=i(t).text().trim();if(r)f+=r+"\n\n"})}f=f.replace(/\n{3,}/g,"\n\n").trim();d=f;if(!d){d=i("p").map((e,t)=>i(t).text()).get().join("\n\n").trim()}return t.status(200).json({title:o,description:c,url:r,image:u,articleText:d})}catch(e){console.error("Error fetching metadata:",e);return t.status(500).json({error:e.message})}}a()}catch(e){a(e)}})},3480:(e,t,r)=>{if(false){}else{if(false){}else{if(false){}else{e.exports=r(5600)}}}},4229:e=>{e.exports=require("node-fetch")},5263:e=>{e.exports=import("cheerio");},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{var r;r={value:true};Object.defineProperty(t,"M",{enumerable:true,get:function(){return a}});function a(e,t){if(t in e){return e[t]}if("then"in e&&typeof e.then==="function"){return e.then(e=>a(e,t))}if(typeof e==="function"&&t==="default"){return e}return undefined}},8667:(e,t)=>{var r;r={value:true};Object.defineProperty(t,"A",{enumerable:true,get:function(){return a}});var a=function(e){e["PAGES"]="PAGES";e["PAGES_API"]="PAGES_API";e["APP_PAGE"]="APP_PAGE";e["APP_ROUTE"]="APP_ROUTE";e["IMAGE"]="IMAGE";return e}({})},9892:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t);r.d(t,{config:()=>d,"default":()=>u,routeModule:()=>p});var s=r(3480);var n=r.n(s);var i=r(8667);var o=r(6435);var c=r(2196);var l=e([c]);c=(l.then?(await l)():l)[0];const u=(0,o.M)(c,"default");const d=(0,o.M)(c,"config");const p=new s.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/fetchMetadata",pathname:"/api/fetchMetadata",bundlePath:"",filename:""},userland:c});a()}catch(e){a(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e);var a=r(9892);module.exports=a})();